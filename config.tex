% -----------------------------------------------------------------------
%                               PACKAGES
% -----------------------------------------------------------------------

\usepackage[paperheight=29.7cm,paperwidth=21cm,outer=1.5cm,inner=2.5cm,top=2cm,bottom=2cm]{geometry}
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{titlesec}
\usepackage[titles]{tocloft}
\usepackage[nottoc]{tocbibind}
\usepackage{blindtext}
\usepackage{color}
\usepackage{epsfig}
\usepackage{plain}

\usepackage{setspace}
\singlespacing

\usepackage{fontawesome}
% Needed to have different sizes for fontawesome
\DeclareFontFamily{U}{fontawesomeOne}{}
\DeclareFontShape{U}{fontawesomeOne}{m}{n}
  {<-> FontAwesome--fontawesomeone}{}
\DeclareRobustCommand\FAone{\fontencoding{U}\fontfamily{fontawesomeOne}\selectfont}

% DRAFT background
\usepackage{background}
\backgroundsetup{contents=DRAFT}

% Code listing
%\usepackage{fontspec}
%\setmonofont[
%  Contextuals={Alternate}
%]{Fira Code}

\usepackage{listings}
%\usepackage{pxfonts}
\lstset{language=Python,
    basicstyle=\ttfamily,
    keywordstyle=\bfseries,
    showstringspaces=false,
    morekeywords={include, printf}
}

% -----------------------------------------------------------------------
%                             DROP CAP
% -----------------------------------------------------------------------

% Drop cap implementation
\usepackage{type1cm}
\usepackage{lettrine}
%\usepackage{mathptmx} Times New Roman
\usepackage{lmodern} 

% -----------------------------------------------------------------------
%                             REFERENCES
% -----------------------------------------------------------------------

% Clickable references
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

% Custom boxed/framed environments
\usepackage[framemethod=tikz]{mdframed}

% Black and white images
\usepackage{graphicx}

\usepackage{lipsum} % To be removed

% -----------------------------------------------------------------------
%                             GLOSSARY
% -----------------------------------------------------------------------

\usepackage[acronym, numberedsection=autolabel]{glossaries-extra}
\setglossarysection{chapter}
\renewcommand{\glsfirstlongdefaultfont}[1]{\emph{#1}}
\setabbreviationstyle[acronym]{long-short}
\makenoidxglossaries

% -----------------------------------------------------------------------
%                             FANCY TITLES
% -----------------------------------------------------------------------

\definecolor{gray75}{gray}{0.75}

\definecolor{dimgray}{rgb}{0.41, 0.41, 0.41}

% Fancy TOC
\renewcommand\cftchapfont{\normalfont}
\renewcommand\cftchappagefont{\normalfont}
\renewcommand{\cftchapafterpnum}{\vskip 5pt}
\renewcommand\cftsecafterpnum{\vskip 5pt}
\renewcommand\cftsubsecafterpnum{\vskip 5pt}
\setlength\cftbeforesecskip{0pt}
\setlength\cftbeforesubsecskip{0pt}

\AtBeginDocument{\renewcommand\contentsname{Table of Contents}}

\titleformat{\chapter}[display]
{}{\hfill\rule{.7\textwidth}{3pt}}{0pt}
{\hspace*{.3\textwidth}\huge\bfseries}[\addvspace{-1pt}]
\titleformat{name=\chapter,numberless}[display]
{}{\hfill\rule{.7\textwidth}{3pt}}{0pt}
{\hspace*{.3\textwidth}\huge\bfseries}[\addvspace{-1pt}]

% Fancy chapter titles
\newcommand{\hsp}{\hspace{20pt}}
\titleformat{\chapter}[hang]{\Huge\bfseries}{\thechapter\hsp\textcolor{gray75}{|}\hsp}{0pt}{\Huge\bfseries}

% -----------------------------------------------------------------------
%                               CODE BOX
% -----------------------------------------------------------------------

% Usage:
% \begin{code}
%	\begin{verbatim}
%		$ ls
%		
%		Applications	Desktop	...
%	\end{verbatim}
% \end{code}

\mdfdefinestyle{code}{
	leftmargin=10pt,
	rightmargin=10pt,
	innerleftmargin=15pt,
	middlelinecolor=gray75,
	middlelinewidth=2pt,
	frametitlerule=false,
	backgroundcolor=black!0.5!white,
	frametitle={\faCode \codeTitle},
	frametitlefont={\normalfont\sffamily\color{white}\hspace{-1em}},
	frametitlebackgroundcolor=gray75,
	nobreak,
}

\newenvironment{code}[1][Code]{
	\medskip
	\newcommand{\codeTitle}{~#1}
	\begin{mdframed}[style=code]
	}{
	\end{mdframed}
	\medskip
}